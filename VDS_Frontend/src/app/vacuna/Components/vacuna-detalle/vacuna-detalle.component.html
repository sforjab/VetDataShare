<div class="page-container">
    <!-- Spinner de carga -->
    <div *ngIf="isLoading" class="spinner-container">
      <mat-progress-spinner mode="indeterminate" diameter="50" color="primary" aria-label="Cargando contenido"></mat-progress-spinner>
    </div>
  
    <!-- Contenido principal -->
    <div *ngIf="!isLoading">
      <h1>Datos de la Vacuna</h1>
      <h3>{{ mascota?.nombre }} ({{ mascota?.numChip }})</h3>
  
      <mat-card class="card perfil-card">
        <mat-card-content>
          <form [formGroup]="detalleVacunaForm" class="perfil-form grid-form">
            <!-- Nombre -->
            <mat-form-field appearance="fill">
              <mat-label>Nombre</mat-label>
              <input matInput formControlName="nombre" aria-label="Nombre de la vacuna"/>
              <mat-error *ngIf="campoEsInvalido('nombre') && detalleVacunaForm.get('nombre')?.hasError('required')">
                El nombre es obligatorio.
              </mat-error>
              <mat-error *ngIf="campoEsInvalido('nombre') && detalleVacunaForm.get('nombre')?.hasError('maxlength')">
                No puede exceder los 250 caracteres.
              </mat-error>
            </mat-form-field>
  
            <!-- Laboratorio -->
            <mat-form-field appearance="fill">
              <mat-label>Laboratorio</mat-label>
              <input matInput formControlName="laboratorio" aria-label="Nombre del laboratorio"/>
              <mat-error *ngIf="campoEsInvalido('laboratorio') && detalleVacunaForm.get('laboratorio')?.hasError('required')">
                El laboratorio es obligatorio.
              </mat-error>
              <mat-error *ngIf="campoEsInvalido('laboratorio') && detalleVacunaForm.get('laboratorio')?.hasError('maxlength')">
                No puede exceder los 250 caracteres.
              </mat-error>
            </mat-form-field>
          </form>
        </mat-card-content>
  
        <mat-card-actions class="action-buttons">
          <button mat-raised-button class="button-primary" (click)="guardarVacuna()" 
                  [disabled]="detalleVacunaForm.invalid" aria-label="Guardar cambios de la vacuna">
            Guardar
          </button>
          <button mat-raised-button class="button-secondary" (click)="volver()" aria-label="Volver a la pantalla anterior">Volver</button>
        </mat-card-actions>
      </mat-card>
    </div>
  </div>
  